<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head">
</head>
<body>
    <div th:replace="fragments/navbar :: navbar"></div>

    <!--FB stuff-->
    <div id="fb-root"></div>
    <script type="text/javascript">
        /* <![CDATA[ */
        (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=119600664738915";
        fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        /* ]]> */
    </script>

    <div class="container">
        <h3 class="page-header">Information</h3>
        <div class="row">
            <div class="col-md-6">
                <h4>Available data</h4>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>cardpool up to</th>
                            <th class="text-center">tournaments</th>
                            <th class="text-center">decks</th>
                            <th class="text-center">rankings</th>
                        </tr>
                    </thead>
                    <tbody id="cptable" class="spinner"></tbody>
                </table>
                <p>Last update: <span th:text="${lastUpdate}"></span></p>
                <p>Parsed information - tournaments: <span th:text="${tournamentCount}"></span> -
                    decks: <span th:text="${deckCount}"></span> - rankings: <span th:text="${rankingCount}"></span></p>
            </div>
            <div class="col-md-6">
                <div class="top-buffer-big hidden-md hidden-lg"></div>
                <h4>Contact</h4>
                <div class="top-buffer">
                    <p>This site is created by <strong>Necro</strong>.</p>
                    <p>You can contact me via: knowthemeta ( at ) gmail.com</p>
                    <p>All ideas, suggestions, feedback are welcome. Keep running.</p>
                    <p>Bugs and feaure requests: <a href="https://github.com/madarasz/NetrunnerMeta/issues" target="_blank"><img th:src="@{/static/img/github.png}"/></a></p>
                </div>
                <h4 class="top-buffer-big">Social</h4>
                <div class="top-buffer">
                    <table class="ordering">
                        <tr>
                            <td>
                                <a href="https://twitter.com/knowthemeta" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @knowthemeta</a>
                                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                            </td>
                            <td>
                                <div class="fb-like" data-href="https://www.facebook.com/netrunnerknowthemeta" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
                            </td>
                            <td>
                                <a href="http://forum.stimhack.com/t/know-the-meta/6306"><img th:src="@{/static/img/stimhack.png}"/></a>
                            </td>
                        </tr>
                    </table>
                </div>
                <h4 class="top-buffer-big">Acknowledgements</h4>
                <div class="top-buffer">
                    <p>
                        I gather information from <a href="http://acoo.net" target="_blank">Acoo</a> and
                        <a href="http://stimhack.com" target="_blank">Stimhack</a> in an automated way with their consent.<br/>
                        I also use <a href="http://netrunnerdb.com" target="_blank">NetrunnerDB</a>'s cool API and card images.<br/>
                        Netrunner glyphs by <a href="https://github.com/MWDelaney/Netrunner-Icon-Font">MW Delaney</a>.
                    </p>
                    <p>
                        I appreciate if you support them as well.
                    </p>
                    <p>
                        I am using the MDSJ library.<br />
                        <small>Algorithmics Group. MDSJ: Java Library for Multidimensional Scaling (Version 0.2).
                            Available at <a href="http://www.inf.uni-konstanz.de/algo/software/mdsj/" target="_blank">http://www.inf.uni-konstanz.de/algo/software/mdsj/</a>. University of Konstanz, 2009.</small>
                    </p>
                </div>
            </div>
        </div>
        <div th:replace="fragments/footer :: footer"></div>
    </div>
    <div th:replace="fragments/head :: scripts"></div>

    <script type="text/javascript"
            src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/

        google.setOnLoadCallback(drawData);

        function drawData() {
            filltable();
        }

        function filltable() {

            $.ajax({
                url: "/JSON/Cardpool",
                dataType: "json",
                async: false,
                success: function (data) {
                    $.each(data, function (index, element) {
                        $("#cptable").append($('<tr>').append($('<td>').append($('<a>', {
                            text: element.title,
                            href: "/DPStats/" + encodeURIComponent(element.title) + "/"
                        })), $('<td>', {
                            text: element.tournamentnum,
                            class: 'text-right'
                        }), $('<td>', {
                            text: element.decknum,
                            class: 'text-right'
                        }), $('<td>', {
                            text: element.standingsnum,
                            class: 'text-right'
                        })));
                    });
                    $('#cptable').removeClass('spinner');
                }
            });
        }
        /*]]>*/
    </script>
    <div th:replace="fragments/analytics :: ga"></div>
</body>
</html>