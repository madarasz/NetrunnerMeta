<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head">
</head>
<body>
    <div th:replace="fragments/navbar :: navbar"></div>
    <div class="container">
        <h3 class="page-header">Information</h3>
        <div class="row">
            <div class="col-md-6">
                <h4>Available data</h4>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>cardpool up to</th>
                            <th class="text-center">tournaments</th>
                            <th class="text-center">decks</th>
                            <th class="text-center">rankings</th>
                        </tr>
                    </thead>
                    <tbody id="cptable"></tbody>
                </table>
                <p>Last update: <span th:text="${lastUpdate}"></span></p>
                <p>Parsed information - tournaments: <span th:text="${tournamentCount}"></span> -
                    decks: <span th:text="${deckCount}"></span> - rankings: <span th:text="${rankingCount}"></span></p>
            </div>
            <div class="col-md-6">
                <h4>Contact</h4>
                <div class="top-buffer">
                    <p>This site is created by <strong>Necro</strong></p>
                    <p>You can contact via: knowthemeta ( at ) gmail.com</p>
                    <p>Bugs and feaure requests: <a href="https://github.com/madarasz/NetrunnerMeta/issues" target="_blank">GitHub</a></p>
                    <p>All ideas, suggestions, feedback are welcome. Keep running.</p>
                </div>
                <h4 class="top-buffer-big">Acknowledgements</h4>
                <div class="top-buffer">
                    <p>We gather information from <a href="http://acoo.net" target="_blank">Acoo</a> and
                        <a href="http://stimhack.com" target="_blank">Stimhack</a> in an automated way with their consent.
                        We also use <a href="http://netrunnerdb.com" target="_blank">NetrunnerDB</a>'s cool API.</p>
                    <p>We are using the MDSJ library.<br />
                        <small>Algorithmics Group. MDSJ: Java Library for Multidimensional Scaling (Version 0.2).
                            Available at <a href="http://www.inf.uni-konstanz.de/algo/software/mdsj/" target="_blank">http://www.inf.uni-konstanz.de/algo/software/mdsj/</a>. University of Konstanz, 2009.</small>
                    </p>
                </div>
            </div>
        </div>
        <div th:replace="fragments/footer :: footer"></div>
    </div>
    <div th:replace="fragments/head :: scripts"></div>

    <script type="text/javascript"
            src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/

        $('#cptable').addClass('spinner');
        $('#chart_div1').addClass('spinner');
        $('#chart_div2').addClass('spinner');

        google.setOnLoadCallback(drawData);

        function drawData() {
            filltable();
        }

        function filltable() {

            var jsonData = $.ajax({
                url: "/JSON/Cardpool",
                dataType: "json",
                async: false,
                success: function (data) {
                    $.each(data, function (index, element) {
                        $("#cptable").append($('<tr>').append($('<td>').append($('<a>', {
                            text: element.title,
                            href: "/DPStats/" + encodeURIComponent(element.title) + "/"
                        })), $('<td>', {
                            text: element.tournamentnum,
                            class: 'text-right'
                        }), $('<td>', {
                            text: element.decknum,
                            class: 'text-right'
                        }), $('<td>', {
                            text: element.standingsnum,
                            class: 'text-right'
                        })));
                    });
                    $('#cptable').removeClass('spinner');
                }
            });
        }
        /*]]>*/
    </script>
    <div th:replace="fragments/analytics :: ga"></div>
</body>
</html>